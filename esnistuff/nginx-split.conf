worker_processes  1;
error_log  fe/logs/error.log  info;

# this makes valgrind/gdb easier
# daemon off;
# # if debugging is needed - we get a core in /tmp/cores
# and then: sudo gdb ~/code/nginx/objs/nginx /tmp/cores/core
# for a backtrace
# error_log  logs/error.log  debug;
# working_directory  /tmp/cores/;
# worker_rlimit_core 500M;

# front end on 9443, backend on 9444

events {
    worker_connections  1024;
}


http {
    access_log           fe/logs/access.log combined;
    ssl_echkeydir        echkeydir;
    server {
        listen              9443 default_server ssl;
        ssl_certificate     cadir/example.com.crt;
        ssl_certificate_key cadir/example.com.priv;
        ssl_protocols       TLSv1.3;
        server_name         example.com bar.example.com;
        location / {
            root   fe/www;
            index  index.html index.htm;
        }
    }
}

